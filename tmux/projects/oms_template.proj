#!/bin/bash

# tmux setup OMSTemplates development


if ! tmux has-session -t='OMSTemplates' 2>/dev/null
then

# Neovim 
tmux new-session -s OMSTemplates -n Neovim -d 
tmux send-keys -t OMSTemplates:1 'cd ~/Projects/OMSTemplates' C-m
tmux send-keys -t OMSTemplates:1 'vim .' C-m

# Create horizontal split and start claude code
tmux split-window -h -t OMSTemplates:1
tmux send-keys -t OMSTemplates:1.2 'cd ~/Projects/OMSTemplates' C-m
tmux send-keys -t OMSTemplates:1.2 'opencode' C-m
# tmux split-window -v -t OMSTemplates:1.2
# tmux send-keys -t OMSTemplates:1.3 'copilot' C-m


# Console Window
tmux new-window -n Console -t OMSTemplates
tmux send-keys -t OMSTemplates:2  'cd ~/Projects/OMSTemplates' C-m
# tmux send-keys -t OMSTemplates:2  'nv' C-m
tmux send-keys -t OMSTemplates:2  'clear' C-m


# Lazygit
tmux new-window -n Lazygit -t OMSTemplates
tmux send-keys -t OMSTemplates:3  'cd ~/Projects/OMSTemplates' C-m
tmux send-keys -t OMSTemplates:3  'lg' C-m
# tmux send-keys -t OMSTemplates:2  'clear' C-m

# Select the Neovim window
tmux select-window -t OMSTemplates:1
tmux select-pane -t OMSTemplates:1.1    
fi

# Ensure session exists, then attach
tmux attach -t OMSTemplates



