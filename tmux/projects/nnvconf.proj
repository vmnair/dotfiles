#!/bin/bash

# tmux setup Neovim-Nightly configuration


if ! tmux has-session -t NightlyNeovimConf
then

# Neovim 
tmux new-session -s NightlyNeovimConf -n Neovim -d 
tmux send-keys -t NightlyNeovimConf:1 'cd ~/dotfiles/neovim/nvim-nightly' C-m
tmux send-keys -t NightlyNeovimConf:1 'nvn .' C-m

# Create horizontal split and start claude code
tmux split-window -h -t NightlyNeovimConf:1
tmux send-keys -t NightlyNeovimConf:1.2 'cd ~/dotfiles/neovim/nvim-nightly' C-m
tmux send-keys -t NightlyNeovimConf:1.2 'claude' C-m


# Console Window
tmux new-window -n Console -t NightlyNeovimConf
tmux send-keys -t NightlyNeovimConf:2  'cd ~/dotfiles/neovim/nvim-nightly' C-m
tmux send-keys -t NightlyNeovimConf:2  'opencode' C-m


# Lazygit
tmux new-window -n Lazygit -t NightlyNeovimConf
tmux send-keys -t NightlyNeovimConf:3  'cd ~/dotfiles/neovim/nvim-nightly' C-m
tmux send-keys -t NightlyNeovimConf:3  'lg' C-m

# Select the Neovim window
tmux select-window -t NightlyNeovimConf:1
tmux select-pane -t NightlyNeovimConf:1.1    
fi

# No running session, so start a new session 
tmux attach -t NightlyNeovimConf



